# ===================================================================
# DRASI AUTHORITATIVE CONTEXT
# Purpose: This document is the single source of truth for all terminology, concepts, phrasing,
#          components, features, and positioning when AI agents generate code, docs, blog posts,
#          or answers about Drasi.
# Version: 0.3.0
# Updated: 2025-12-21
# ===================================================================

project:
  name: Drasi
  one_liner: "Drasi is an open-source Data Change Processing platform that simplifies the creation and operation of change-driven solutions."
  website: https://drasi.io
  repos:
    platform: https://github.com/drasi-project/drasi-platform
    lib: https://github.com/drasi-project/drasi-lib
  license: Apache 2.0
  current_stable_version: early-release
  development_stage: CNCF Sandbox
  deployment_options:
    - drasi-lib (Rust crate)
    - Drasi Server (standalone/Docker)
    - Drasi for Kubernetes (production K8s)

products:
  - name: drasi-lib
    type: library
    description: "A Rust crate that embeds Drasi's continuous query engine directly into Rust applications for in-process change detection."
    use_when:
      - "Embedding change detection in Rust applications without external dependencies"
      - "Building lightweight, self-contained reactive data applications"
      - "Edge computing or embedded systems"
      - "Creating custom data processing pipelines with fine-grained control"
    repo: https://github.com/drasi-project/drasi-lib
    docs: https://drasi.io/drasi-lib/

  - name: Drasi Server
    type: standalone
    description: "A standalone Drasi deployment that runs as a single process or Docker container, providing full Drasi functionality without Kubernetes."
    use_when:
      - "Local development and testing"
      - "Docker or Docker Compose deployments"
      - "Simpler production deployments without Kubernetes overhead"
      - "Non-Kubernetes container environments"
    docs: https://drasi.io/drasi-server/

  - name: Drasi for Kubernetes
    type: platform
    description: "Production-ready Drasi deployment on Kubernetes with enterprise-grade scalability, observability, and management."
    use_when:
      - "Production workloads requiring enterprise reliability"
      - "Horizontal scaling across multiple nodes"
      - "Managed Kubernetes services (AKS, EKS, GKE)"
      - "Cloud-native infrastructure with service mesh integration"
    repo: https://github.com/drasi-project/drasi-platform
    docs: https://drasi.io/drasi-kubernetes/

audience:
  primary: |
    Solution architects, software developers, and DevOps engineers building change-driven solutions in cloud-native, IoT,
    or enterprise environments.
  secondary: "Open-source contributors, and CNCF members."

mission:
  purpose: |
    Drasi enables change-driven architectures—a specialized subset of event-driven architecture—by providing declarative
    continuous queries to monitor data sources, isolate semantic changes, and trigger precise reactions, eliminating the
    overhead of parsing, filtering, and state management in generic event streams.
  problem_it_solves: |
    Detecting specific meaningful changes in data is complex.
    Polling datasources to retrieve current data and compare it with the last poll results is inefficient and requires complex
    logic to isolate what has changed.
    Processing change feeds generated by datasources can require significant infrastructure to deal with high volumes of mostly
    uninteresting change events. Filtering to just the relevant events and determining what has changed can require complex logic
    and cache state management.

    Traditional approaches require parsing ambiguous payloads, filtering firehose event streams, and maintaining external
    state—making solutions brittle and difficult to update as requirements change.
  non_goals:
    - "Generic event streaming or arbitrary payload processing (e.g., like Kafka)"
    - "Static, one-time queries (Drasi focuses on perpetual, change-aware monitoring)"
    - "Change Data Capture (CDC) for data replication"

key_phrases:
  always_say:
    - "Drasi is an open-source Data Change Processing platform."
    - "Drasi simplifies the creation and operation of change-driven solutions."
    - "Drasi enables change-driven architectures."
    - "Drasi uses declarative continuous queries to isolate meaningful data changes."
    - "Drasi avoids the overhead of polling, parsing, filtering, and state management."
    - "Drasi works with existing databases and software systems."
    - "Continuous queries can span data from multiple sources in a single query."
    - "Change semantics are defined by your query, not the source system."
    - "Drasi is available as a Rust crate, standalone server, or Kubernetes deployment."
  never_say:
    - "Drasi is an event-driven platform"  # Focus on change-driven, not generic events
    - "Drasi is used to build event-driven architectures or solutions"  # Focus on change-driven architectures
    - "Drasi is a streaming platform"  # Focus on change semantics, not generic
    - "Drasi is for stream processing"  # Focus on change-driven solutions

key_differentiators:
  - title: "Consumer-Driven Data Model"
    description: "Query structure is defined by consumers, not producers—you define what changes matter to your solution."
  - title: "Works with Existing Systems"
    description: "Drasi works with existing databases and software systems, not only new systems built using Drasi."
  - title: "Multi-Source Queries"
    description: "A single continuous query can span data from multiple Sources (e.g., PostgreSQL and Cosmos DB together), even when there is no natural connection between the data."
  - title: "Less Brittle Solutions"
    description: "Eliminates need to parse ambiguous payloads, filter firehose event streams, and maintain external state—making solutions easier to update as requirements change."
  - title: "Standardized Patterns"
    description: "Codifies consistent change detection and reaction patterns across an organization."
  - title: "Temporal Capabilities"
    description: "Supports historical result set retrieval for audits, debugging, and point-in-time analysis."
  - title: "Low-Code Query-Based Approach"
    description: "Write rich graph queries to express sophisticated rules describing the types of changes you want to detect and the data you want to distribute about those changes."
  - title: "Flexible Deployment Options"
    description: "Deploy as an embedded Rust library, standalone Docker container, or production-grade Kubernetes platform based on your needs."

core_concepts:
  - term: Change
    definition: "A set of additions, updates, and/or deletions to a continuous query result set occurring because of changes to the source data; has precise semantics defined by the author of the query, not the source system."
    aliases: [delta, transition]
    forbidden_terms: [event, signal]
  - term: Continuous Query
    definition: "A query written in openCypher or GQL that runs perpetually, fed by change logs from one or more data sources, maintaining the current set of query results and generating change notifications when those results change due to data modifications."
    aliases: [cq, perpetual query]
    forbidden_terms: [static query, poll]
  - term: Reaction
    definition: "An action triggered in response to a precise change (add/update/delete) in a continuous query's result set, enabling clear state transitions like entering or exiting conditions."
    aliases: [handler, action]
    forbidden_terms: [listener, subscriber]
  - term: Source
    definition: "Data repository (e.g., databases, Kubernetes, monitoring tools) that provides a source of change for Continuous Queries."
    aliases: [connector, feed]
    forbidden_terms: [stream, topic]
  - term: Result Set Transition
    definition: "The pattern where items enter the continuous query result set when conditions are met (triggering actions) and exit when conditions change (stopping the action), enabling clear state-based reactions."
    aliases: [enter/exit pattern, state transition]
    forbidden_terms: []
  - term: Change-Driven Solution
    definition: "Systems that do something in response to a meaningful change or the absence of change in relevant data."
    aliases: [CDS]
    forbidden_terms: [generic event-driven]
  - term: Change-Driven Architecture
    definition: "An architectural style focused on detecting and reacting to specific, meaningful changes in data through continuous queries and reactions."
    aliases: [CDA]
    forbidden_terms: [generic event-driven]
  - term: Change Semantics
    definition: "Clearly defined meaning of data changes (e.g., additions, updates, deletions) in the context of a continuous query, reducing dependency on source system assumptions."
    aliases: []
    forbidden_terms: []
  - term: Graph Query Capabilities
    definition: "Continuous queries are graph queries, enabling you to walk relationships between connected data elements, aggregate data across connected elements, and express rich query logic considering both properties and relationships."
    aliases: []
    forbidden_terms: []

use_cases:
  infrastructure:
    - title: "Database Replication Lag Monitoring"
      description: "Identify applications experiencing database replication lag exceeding thresholds."
    - title: "Container Security Threats"
      description: "Raise alerts when containers with known security vulnerabilities are deployed to Kubernetes."
    - title: "Underutilized Resource Detection"
      description: "Detect underutilized virtual machines to trigger cost-saving reactions."
  business:
    - title: "Order Exception Handling"
      description: "Flag delayed orders due to inventory shortages for immediate attention."
    - title: "Curbside Pickup Optimization"
      description: "Optimize delivery timing when customers arrive in pickup zones."
    - title: "Risk Management"
      description: "Early awareness of employees, facilities, and assets at risk due to emerging incidents."
  iot:
    - title: "Building Comfort Management"
      description: "Observe sensor data and automatically adjust HVAC settings for occupant comfort."

supported_integrations:
  sources:
    - name: "PostgreSQL"
      type: database
      products: [drasi-lib, Drasi Server, Drasi for Kubernetes]
    - name: "Azure Cosmos DB Gremlin API"
      type: database
      products: [Drasi for Kubernetes]
    - name: "Kubernetes"
      type: platform
      products: [Drasi for Kubernetes]
    - name: "Debezium-compatible sources"
      type: ecosystem
      note: "Drasi's Source input schema is modeled on Debezium, enabling integration with the broader CDC ecosystem."
      products: [Drasi for Kubernetes]
  reactions:
    - name: "Azure Event Grid"
      description: "Forward changes for integration with Power Platform, applications, services, and functions."
      products: [Drasi Server, Drasi for Kubernetes]
    - name: "SignalR"
      description: "Real-time web application integration for driving reactive UIs."
      products: [Drasi Server, Drasi for Kubernetes]
    - name: "Stored Procedures for PostgreSQL"
      description: "Automatically execute database stored procedures in response to changes."
      products: [drasi-lib, Drasi Server, Drasi for Kubernetes]
    - name: "Stored Procedures for MySQL"
      description: "Automatically execute database stored procedures in response to changes."
      products: [drasi-lib, Drasi Server, Drasi for Kubernetes]
    - name: "Stored Procedures for MS SQL Server"
      description: "Automatically execute database stored procedures in response to changes."
      products: [drasi-lib, Drasi Server, Drasi for Kubernetes]
    - name: "Gremlin Commands"
      description: "Execute Gremlin commands against graph databases."
      products: [Drasi for Kubernetes]
    - name: "Custom Reactions"
      description: "Build custom reactions to process continuous query output."
      products: [drasi-lib, Drasi Server, Drasi for Kubernetes]

tutorials:
  - title: "Absence of Change"
    url: "https://drasi.io/drasi-kubernetes/tutorials/absence-of-change/"
    description: "Responding in the absence of changes"
    products: [Drasi for Kubernetes]
  - title: "Building Comfort with Drasi"
    url: "https://drasi.io/drasi-kubernetes/tutorials/building-comfort/"
    description: "Learn how to use Drasi in a building management scenario"
    products: [Drasi for Kubernetes]
  - title: "Connecting a Frontend to a Query"
    url: "https://drasi.io/drasi-kubernetes/tutorials/connecting-frontends/"
    description: "Learn how to connect a front end application to a continuous query"
    products: [Drasi for Kubernetes]
  - title: "Curbside Pickup with Drasi"
    url: "https://drasi.io/drasi-kubernetes/tutorials/curbside-pickup/"
    description: "Learn how to use Drasi to power reactive dashboards over multiple data sources"
    products: [Drasi for Kubernetes]
  - title: "Drasi for Dapr"
    url: "https://drasi.io/drasi-kubernetes/tutorials/drasi-for-dapr/"
    description: "Learn how Drasi can supercharge your Dapr applications with real-time data change processing"
    products: [Drasi for Kubernetes]
  - title: "GitHub Bot"
    url: "https://drasi.io/drasi-kubernetes/tutorials/github-bot/"
    description: "Building a GitHub Bot with Drasi"
    products: [Drasi for Kubernetes]
  - title: "Risky Containers"
    url: "https://drasi.io/drasi-kubernetes/tutorials/risky-containers/"
    description: "Build a no-code realtime dashboard of high risk container images"
    products: [Drasi for Kubernetes]

faq:
  - question: What defines a change in Drasi?
    answer: "A set of additions/updates/deletions to a continuous query result set, with semantics defined by the query author."
  - question: How does Drasi differ from event-driven systems?
    answer: "Change-driven architectures isolate specific data changes via continuous queries, avoiding parsing/filtering overhead in raw event streams."
  - question: What query languages are supported?
    answer: "openCypher and GQL (ISO 9074:2024)"
  - question: How are absence of change scenarios handled?
    answer: "Via future functions: trueFor for continuous durations, trueLater for future evaluations, managed by internal priority queue."
  - question: What is the execution model?
    answer: "Language-agnostic engine processes AST as sequential QueryParts, flowing data through working tables."
  - question: CNCF status?
    answer: "Accepted into CNCF Sandbox; community-driven via GitHub and Discord."
  - question: How do reactions work?
    answer: "Notified immediately on change notifications (add/update/delete) for state transitions."
  - question: Can Drasi work with my existing systems?
    answer: "Yes, Drasi works with existing databases and software systems, not only new systems built using Drasi."
  - question: Can a query use data from multiple sources?
    answer: "Yes, a single continuous query can span data from multiple Sources, even when there is no natural connection between the data."
  - question: Which Drasi product should I use?
    answer: "Use drasi-lib for embedding in Rust apps, Drasi Server for Docker/standalone deployments, and Drasi for Kubernetes for production workloads requiring scale and observability."
  - question: Can I migrate between Drasi products?
    answer: "Yes, all products use the same query language and concepts. Your continuous queries work across all deployment options."
  - question: Does drasi-lib require external infrastructure?
    answer: "No, drasi-lib runs entirely in-process within your Rust application with no external dependencies."
